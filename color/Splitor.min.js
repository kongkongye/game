window.Splitor=function(o){var r=-1,i=-1,n="",t="",l=[],s=function(i){if(-1!==r){var s={color:""};n&&(s.color+=ColorConstant.CHAR+n),t&&t.split("").forEach(function(o){s.color+=ColorConstant.CHAR+o}),s.str=o.substr(r,i+1-r),r=-1,l.push(s)}};this.split=function(){for(;;){if(i>=o.length-1)return s(i),l;i++;var f=o.charAt(i);if(Color.isChar(f)){if(i>=o.length-1)return s(i),l;var c=o.charAt(++i);if(Color.isColor(c)){s(i-2),n=c,t="";continue}if(Color.isFormat(c)){s(i-2),-1===t.indexOf(c)&&(t+=c);continue}if(Color.isBr(c)){s(i-2),l.push({br:!0}),n="",t="";continue}-1===r&&(r=i-1)}else-1===r&&(r=i)}}};