window.TabConfig=function(){var n=new Logger(LogConstant.SOURCE_PAGE),e={},t=function(t,r){n.info(LogType.FUNC,"添加定义: {0}",t);var o=a($.parseXML(r).childNodes[0]);e[t]=o},a=function(n){var e=n.attributes,t=u(e.enable,!0),a=[];return n.childNodes.forEach(function(n){1===n.nodeType&&a.push(r(n))}),{enable:t,pages:a}},r=function(n){var e=n.attributes;return{name:o(e.name,null),path:o(e.path,null),cmd:o(e.cmd,null)}},o=function(n,e){return n&&(n.value||""===n.value)?n.value:e},u=function(n,e){return n?n.value+""=="true":e};return{reqTab:function(a){var r=$.Deferred();return e[a]?r.resolve(e[a]):Conn.send(PacketConstant.CLIENT180TAB,{path:a},!0).then(function(n){var o=(n=n.data).path,u=n.tab;if(o!==a)throw"异常!";t(a,u),r.resolve(e[a])},function(){n.warn(LogType.DETAIL,"请求tab页面'{0}'失败!",a),r.reject()}),r},getRootPath:function(n,t){return e[n].pages[t].path},getRootCmd:function(n,t){return e[n].pages[t].cmd}}}();